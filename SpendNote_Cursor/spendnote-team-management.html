<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Management - SpendNote</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #059669;
            --primary-light: #10b981;
            --primary-dark: #047857;
            --orange: #f59e0b;
            --red: #ef4444;
            --bg: #fafafa;
            --surface: #ffffff;
            --text: #000000;
            --text-muted: #737373;
            --border: rgba(0,0,0,0.08);
            --shadow: rgba(0,0,0,0.04);
            --active: #059669;
            --active-rgb: 5, 150, 105;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Inter', -apple-system, system-ui, sans-serif; 
            background: var(--bg);
            color: var(--text); 
            line-height: 1.6; 
            font-size: 15px;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* NAV */
        .site-nav {
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(250, 250, 250, 0.95);
            backdrop-filter: blur(12px);
            z-index: 1000;
            border-bottom: 1px solid var(--border);
        }

        .site-nav .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .site-nav .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .site-nav .logo:hover {
            transform: scale(1.05);
        }

        .site-nav .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
            list-style: none;
        }

        .site-nav .nav-links a {
            color: #000000;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: color 0.2s;
            position: relative;
        }

        .site-nav .nav-links a:hover {
            color: var(--active);
        }

        .site-nav .nav-links a.active {
            color: var(--active);
        }

        .site-nav .nav-links a.active::after{
            content: '';
            position: absolute;
            left: 0;
            bottom: -6px;
            width: 100%;
            height: 2px;
            background: var(--active);
            border-radius: 999px;
        }

        /* MAIN */
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            flex: 1;
            padding: 28px 24px;
            width: 100%;
        }

        .main-content { 
            padding-top: 28px;
            display: flex;
            flex-direction: column;
            gap: 20px; 
        }

        .team-shell {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* HEADER */
        .page-header {
            margin-bottom: 32px;
        }

        .breadcrumb {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 16px;
            font-weight: 500;
        }

        .breadcrumb a {
            color: var(--active);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: -0.02em;
        }

        .page-subtitle {
            font-size: 16px;
            color: var(--text-muted);
        }

        /* STATS BAR */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: -0.02em;
            color: var(--text);
        }

        .stat-subtext {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* BUTTONS */
        .btn {
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-family: inherit;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(var(--active-rgb), 0.3);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--text);
            transform: translateY(-1px);
        }

        .btn-danger {
            background: transparent;
            color: var(--red);
            border: 2px solid transparent;
            padding: 8px 16px;
            font-size: 13px;
        }

        .btn-danger:hover {
            border-color: var(--red);
            background: rgba(239, 68, 68, 0.05);
        }

        /* TABLE */
        .team-table {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 2px 12px var(--shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: var(--bg);
        }

        th {
            text-align: left;
            padding: 16px 20px;
            font-size: 12px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        tbody tr {
            border-bottom: 1px solid var(--border);
            transition: all 0.2s;
        }

        tbody tr:hover {
            background: var(--bg);
        }

        tbody tr:last-child {
            border-bottom: none;
        }

        td {
            padding: 20px;
            font-size: 14px;
        }

        .user-cell {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: white;
            font-size: 14px;
            flex-shrink: 0;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            color: var(--text);
        }

        .user-email {
            font-size: 13px;
            color: var(--text-muted);
        }

        .role-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
        }

        .role-badge.owner {
            background: rgba(5, 150, 105, 0.1);
            color: var(--primary);
        }

        .role-badge.admin {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }

        .role-badge.member {
            background: rgba(0, 0, 0, 0.05);
            color: var(--text-muted);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
        }

        .status-badge.active {
            background: rgba(5, 150, 105, 0.1);
            color: var(--primary);
        }

        .status-badge.pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--orange);
        }

        .actions-cell {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.2s;
        }

        .modal.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--surface);
            border-radius: 24px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.3s;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 900;
            letter-spacing: -0.02em;
            margin-bottom: 8px;
        }

        .modal-subtitle {
            font-size: 14px;
            color: var(--text-muted);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--surface);
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }

        .form-hint {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 6px;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        /* EMPTY STATE */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-icon {
            font-size: 64px;
            color: var(--text-muted);
            opacity: 0.3;
            margin-bottom: 16px;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .empty-text {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 24px;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .stats-bar {
                grid-template-columns: 1fr;
            }

            .header-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
            }

            .team-table {
                overflow-x: auto;
            }

            table {
                min-width: 600px;
            }

            .modal-content {
                padding: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- TOP NAV -->
    <nav class="site-nav">
        <div class="nav-container">
        <a href="/dashboard" class="logo">
            <svg width="40" height="40" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 6 C10 4.89543 10.8954 4 12 4 L36 4 C37.1046 4 38 4.89543 38 6 L38 38 L36 40 L34 38 L32 40 L30 38 L28 40 L26 38 L24 40 L22 38 L20 40 L18 38 L16 40 L14 38 L12 40 L10 38 Z" fill="url(#logo-gradient)"/>
                <path d="M32 4 L38 10 L32 10 Z" fill="#000000" opacity="0.25"/>
                <path d="M32 4 L32 10 L38 10" stroke="#047857" stroke-width="1.5" stroke-linejoin="round"/>
                <line x1="14" y1="14" x2="30" y2="14" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                <line x1="14" y1="19" x2="26" y2="19" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.8"/>
                <line x1="14" y1="24" x2="30" y2="24" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.9"/>
                <line x1="14" y1="29" x2="22" y2="29" stroke="white" stroke-width="2.5" stroke-linecap="round" opacity="0.7"/>
                <path d="M10 36 L12 38 L14 36 L16 38 L18 36 L20 38 L22 36 L24 38 L26 36 L28 38 L30 36 L32 38 L34 36 L36 38 L38 36" stroke="#047857" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                <defs>
                    <linearGradient id="logo-gradient" x1="24" y1="4" x2="24" y2="40" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#059669"/>
                        <stop offset="100%" stop-color="#10b981"/>
                    </linearGradient>
                </defs>
            </svg>
            <span>SpendNote</span>
        </a>
        <ul class="nav-links">
            <li><a href="/dashboard">Dashboard</a></li>
            <li><a href="/registers">Registers</a></li>
            <li><a href="/history">History</a></li>
            <li><a href="/team" class="active">Team</a></li>
        </ul>
        </div>
    </nav>

    <!-- MAIN -->
    <div class="app-container">
        <main class="main-content">
        <div class="team-shell">
        <!-- HEADER -->
        <div class="page-header">
            <div class="breadcrumb">
                <a href="/settings">← Back to Settings</a>
            </div>
            <div class="header-row">
                <div>
                    <h1 class="page-title">Team Management</h1>
                    <p class="page-subtitle">Manage your team members and their permissions</p>
                </div>
                <button class="btn btn-primary" onclick="openInviteModal()">
                    <i class="fas fa-user-plus"></i>
                    Invite Member
                </button>
            </div>
        </div>

        <!-- STATS -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-label">Total Members</div>
                <div class="stat-value">5</div>
                <div class="stat-subtext">of 5 included</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Active</div>
                <div class="stat-value">4</div>
                <div class="stat-subtext">Members active</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Pending Invites</div>
                <div class="stat-value">1</div>
                <div class="stat-subtext">Awaiting acceptance</div>
            </div>
        </div>

        <!-- TEAM TABLE -->
        <div class="team-table">
            <table>
                <thead>
                    <tr>
                        <th>Member</th>
                        <th>Role</th>
                        <th>Register Access</th>
                        <th>Status</th>
                        <th>Joined</th>
                        <th style="text-align: right;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <div class="user-avatar">JD</div>
                                <div class="user-info">
                                    <div class="user-name">John Doe</div>
                                    <div class="user-email">john.doe@example.com</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="role-badge owner">
                                <i class="fas fa-crown"></i>
                                Owner
                            </span>
                        </td>
                        <td>
                            <div style="font-size: 13px; color: var(--text-muted);">
                                <i class="fas fa-infinity"></i> All registers
                            </div>
                        </td>
                        <td>
                            <span class="status-badge active">
                                <i class="fas fa-circle"></i>
                                Active
                            </span>
                        </td>
                        <td>Jan 1, 2026</td>
                        <td>
                            <div class="actions-cell">
                                <span style="font-size: 13px; color: var(--text-muted);">—</span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <div class="user-avatar">SW</div>
                                <div class="user-info">
                                    <div class="user-name">Sarah Williams</div>
                                    <div class="user-email">sarah.w@example.com</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <select class="form-select" style="width: auto; padding: 6px 12px; font-size: 13px;">
                                <option value="admin" selected>Admin</option>
                                <option value="member">Member</option>
                            </select>
                        </td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;" onclick="openRegisterModal('Sarah Williams', ['main', 'store', 'warehouse'])">
                                <i class="fas fa-cash-register"></i>
                                3 of 5
                            </button>
                        </td>
                        <td>
                            <span class="status-badge active">
                                <i class="fas fa-circle"></i>
                                Active
                            </span>
                        </td>
                        <td>Jan 3, 2026</td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-danger" onclick="removeMember('Sarah Williams')">
                                    <i class="fas fa-trash"></i>
                                    Remove
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <div class="user-avatar">MB</div>
                                <div class="user-info">
                                    <div class="user-name">Mike Brown</div>
                                    <div class="user-email">mike.b@example.com</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <select class="form-select" style="width: auto; padding: 6px 12px; font-size: 13px;">
                                <option value="admin">Admin</option>
                                <option value="member" selected>Member</option>
                            </select>
                        </td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;" onclick="openRegisterModal('Mike Brown', ['main', 'store'])">
                                <i class="fas fa-cash-register"></i>
                                2 of 5
                            </button>
                        </td>
                        <td>
                            <span class="status-badge active">
                                <i class="fas fa-circle"></i>
                                Active
                            </span>
                        </td>
                        <td>Jan 4, 2026</td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-danger" onclick="removeMember('Mike Brown')">
                                    <i class="fas fa-trash"></i>
                                    Remove
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <div class="user-avatar">ED</div>
                                <div class="user-info">
                                    <div class="user-name">Emily Davis</div>
                                    <div class="user-email">emily.d@example.com</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <select class="form-select" style="width: auto; padding: 6px 12px; font-size: 13px;">
                                <option value="admin">Admin</option>
                                <option value="member" selected>Member</option>
                            </select>
                        </td>
                        <td>
                            <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;" onclick="openRegisterModal('Emily Davis', ['warehouse'])">
                                <i class="fas fa-cash-register"></i>
                                1 of 5
                            </button>
                        </td>
                        <td>
                            <span class="status-badge active">
                                <i class="fas fa-circle"></i>
                                Active
                            </span>
                        </td>
                        <td>Jan 5, 2026</td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-danger" onclick="removeMember('Emily Davis')">
                                    <i class="fas fa-trash"></i>
                                    Remove
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="user-cell">
                                <div class="user-avatar" style="opacity: 0.5;">LW</div>
                                <div class="user-info">
                                    <div class="user-name" style="opacity: 0.7;">Lisa Wilson</div>
                                    <div class="user-email">lisa.w@example.com</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="role-badge member" style="opacity: 0.7;">
                                Member
                            </span>
                        </td>
                        <td>
                            <div style="font-size: 13px; color: var(--text-muted); opacity: 0.7;">
                                Set after acceptance
                            </div>
                        </td>
                        <td>
                            <span class="status-badge pending">
                                <i class="fas fa-clock"></i>
                                Pending
                            </span>
                        </td>
                        <td style="opacity: 0.7;">Invited Jan 6</td>
                        <td>
                            <div class="actions-cell">
                                <button class="btn btn-secondary" style="padding: 8px 16px; font-size: 13px;" onclick="alert('Resend invitation email to lisa.w@example.com')">
                                    <i class="fas fa-envelope"></i>
                                    Resend
                                </button>
                                <button class="btn btn-danger" onclick="removeMember('Lisa Wilson')">
                                    <i class="fas fa-times"></i>
                                    Cancel
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        </div>
        </main>
    </div>

    <!-- INVITE MODAL -->
    <div class="modal" id="inviteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Invite Team Member</h2>
                <p class="modal-subtitle">Send an invitation to join your team</p>
            </div>
            <form onsubmit="sendInvite(event)">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" placeholder="colleague@example.com" required />
                </div>
                <div class="form-group">
                    <label class="form-label">Role</label>
                    <select class="form-select" required>
                        <option value="">Select role...</option>
                        <option value="admin">Admin - Full access to all features</option>
                        <option value="member" selected>Member - Can create and manage transactions</option>
                    </select>
                    <p class="form-hint">You can change their role later</p>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeInviteModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i>
                        Send Invitation
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- REGISTER ACCESS MODAL -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="registerModalTitle">Manage Register Access</h2>
                <p class="modal-subtitle" id="registerModalSubtitle">Select which registers this user can access</p>
            </div>
            <div style="margin-bottom: 24px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 12px; padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--border)'">
                        <input type="checkbox" id="reg_main" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">Main Office</div>
                            <div style="font-size: 13px; color: var(--text-muted);">ID: CR-001</div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="margin-bottom: 24px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 12px; padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--border)'">
                        <input type="checkbox" id="reg_store" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">Store Front</div>
                            <div style="font-size: 13px; color: var(--text-muted);">ID: CR-002</div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="margin-bottom: 24px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 12px; padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--border)'">
                        <input type="checkbox" id="reg_warehouse" style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">Warehouse</div>
                            <div style="font-size: 13px; color: var(--text-muted);">ID: CR-003</div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="margin-bottom: 24px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 12px; padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--border)'">
                        <input type="checkbox" id="reg_mobile" style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">Mobile Unit</div>
                            <div style="font-size: 13px; color: var(--text-muted);">ID: CR-004</div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="margin-bottom: 24px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 12px; padding: 16px; border: 2px solid var(--border); border-radius: 12px; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--border)'">
                        <input type="checkbox" id="reg_event" style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; margin-bottom: 4px;">Event Booth</div>
                            <div style="font-size: 13px; color: var(--text-muted);">ID: CR-005</div>
                        </div>
                    </label>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" onclick="closeRegisterModal()">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="saveRegisterAccess()">
                    <i class="fas fa-check"></i>
                    Save Access
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentUser = '';
        let currentRegisters = [];

        function openInviteModal() {
            document.getElementById('inviteModal').classList.add('active');
        }

        function closeInviteModal() {
            document.getElementById('inviteModal').classList.remove('active');
        }

        function openRegisterModal(userName, registers) {
            currentUser = userName;
            currentRegisters = registers;
            
            document.getElementById('registerModalTitle').textContent = `Manage Register Access - ${userName}`;
            
            // Reset all checkboxes
            document.getElementById('reg_main').checked = false;
            document.getElementById('reg_store').checked = false;
            document.getElementById('reg_warehouse').checked = false;
            document.getElementById('reg_mobile').checked = false;
            document.getElementById('reg_event').checked = false;
            
            // Check user's current registers
            registers.forEach(reg => {
                const checkbox = document.getElementById(`reg_${reg}`);
                if (checkbox) checkbox.checked = true;
            });
            
            document.getElementById('registerModal').classList.add('active');
        }

        function closeRegisterModal() {
            document.getElementById('registerModal').classList.remove('active');
        }

        function saveRegisterAccess() {
            const selected = [];
            ['main', 'store', 'warehouse', 'mobile', 'event'].forEach(reg => {
                if (document.getElementById(`reg_${reg}`).checked) {
                    selected.push(reg);
                }
            });
            
            alert(`Register Access Updated for ${currentUser}\n\nAccess granted to:\n${selected.map(r => '• ' + r).join('\n')}\n\nIn production:\n- Update database\n- Send notification to user\n- Refresh table`);
            closeRegisterModal();
        }

        function sendInvite(e) {
            e.preventDefault();
            alert('Invitation sent!\n\nIn production:\n- Send email invitation\n- Add to pending users\n- Update stats');
            closeInviteModal();
        }

        function removeMember(name) {
            if (confirm(`Remove ${name} from the team?\n\nThey will lose access to all registers and data.`)) {
                alert(`${name} removed from team.\n\nIn production:\n- Revoke access\n- Update user count\n- Send notification`);
            }
        }

        // Close modals on outside click
        document.getElementById('inviteModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeInviteModal();
            }
        });

        document.getElementById('registerModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeRegisterModal();
            }
        });

        // Close modals on ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeInviteModal();
                closeRegisterModal();
            }
        });
    </script>
</body>
</html>
